<!DOCTYPE html>
<html lang="en">

    <head>
        <!-- Character set -->
        <meta charset="UTF-8">
        <!-- Linking main.css -->
        <link href="main.css" rel = "stylesheet" type = "text/css"/>    
        <!-- Vue Import-->
        <script src="https://cdn.jsdelivr.net/npm/vue@2.7.4/dist/vue.js"></script>
        <!-- Viewport -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- Title of webpage -->
        <title>Week 7 Practical</title>
    </head>

    <body>
        <div id="task1">
            <h1 class="taskHeading"> {{ heading }} </h1>
            <component1></component1>
        </div> 
        <br>

        <div id="app">
            <global-comp></global-comp>
        </div>

        <div id="task2">
            <h1 class="taskHeading"> {{ heading }} </h1>
        <h2>What car do I own?</h2>

            <component2 :cars="cars"></component2>
        </div>

        <div id="task3">
            <h1 class="taskHeading"> {{ heading }} </h1>
            <component3 @random="random"></component3>
            <p>Random Number: {{ count }}</p>
        </div>

        <script type="text/x-template" id="component3">
            <div>
                <button @click="randomEmit">Generate Random Number</button>
            </div>
        </script>

        <script>
            //task 1 component
            var component1 = {
                template: '<button> This button was created using a local component! </button>',
                }

            //task 1 app
            let task1 = new Vue({
                el: '#task1',
                data: {     
                    heading: 'Week 7 Practical: Task 1',
                },
                components: {
                    component1,
                },
            });

            //task 3 component
            var component3 = {
                template: '#component3',
                methods: {
                    randomEmit: function () {
                        this.$emit('random');
                    },
                },
            };

            //task 3 app
            let task3 = new Vue({
                el: '#task3',
                data: {     
                    heading: 'Week 7 Practical: Task 3',
                    count: 0,
                },
                methods: {
                    random: function () {
                        this.count = Math.random();
                    },
                },
                components: {
                    component3,
                },
            });

            //task 2 component
            var component2 = {
                template: '<div> I own a {{ cars.year }} {{ cars.make }} {{ cars.model}}. </div>',
                props: ['cars'],
            };

            //task 2 app
            let task2 = new Vue({
                el: '#task2',
                data: {     
                    heading: 'Week 7 Practical: Task 2',
                    cars: {
                        year: 1995, make: 'Nissan', model: 'Skyline R33 GTR',
                    }, 
                    
                },
                components: {
                    component2,
                },
            });
        </script>

        <script src="./script.js"></script>
        <script>
            let app = new Vue({
            el: '#app',
            })
        </script>
    </body>
</html>